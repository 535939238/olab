{"version":3,"sources":["webpack:///src/components/Setting/ImageEditor.vue","webpack:///./src/components/Setting/ImageEditor.vue?3654","webpack:///./src/components/Setting/ImageEditor.vue","webpack:///src/components/Setting/Image.vue","webpack:///./src/components/Setting/Image.vue?0d4b","webpack:///./src/components/Setting/Image.vue"],"names":["ImageEditor","name","_this","this","axios","request","form","then","res","oname","_this2","file","result","Setting_ImageEditor","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","on","click","$event","$emit","_v","_s","style","imgsrc","href","target","directives","rawName","value","expression","type","domProps","input","composing","change","File_input","staticLocate","Save","Delete","staticRenderFns","components_Setting_ImageEditor","__webpack_require__","normalizeComponent","ssrContext","Image","ImageSelect","Refresh","Setting_Image","ref","select","selectedindex","arguments","goback","rename","UpdateEvent","_e","Image_Component","Image_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/11.22c6692846cd5f3fe2d6.js","sourcesContent":["<template>\r\n  <div id='ImageEditor' class=\"slidepanel\">\r\n    <button class=\"close\" @click=\"$emit('goback')\">&times;</button>\r\n    <h2>{{name}}</h2>\r\n    <div class=\"imgcontainer\">\r\n      <a :href=\"'/static/uploads/'+name\" target=\"#\" :style=\"'background-image:url('+imgsrc+');'\"></a>\r\n    </div>\r\n    <form class=\"fileform\">\r\n      <span class=\"label label-default\">名称</span>\r\n      <input type=\"text\" class=\"form-control\" v-model=\"oname\" name=\"name\">\r\n      <span class=\"label label-default\">上传</span>\r\n      <input type=\"file\" class=\"form-control\" name=\"imagefile\" @change=\"File_input\">\r\n    </form>\r\n    <div class=\"alert alert-info\">图片链接:\r\n      <a class=\"alert-link\" target=\"#\" :href=\"staticLocate\">{{staticLocate}}</a>\r\n    </div>\r\n    <div class=\"flexdep\">\r\n      <div>\r\n        <div class=\"btn btn-info btn-block\" @click=\"Save\">保存</div>\r\n      </div>\r\n      <div>\r\n        <div class=\"btn btn-warning btn-block\" @click=\"Delete\">删除</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  props: [\"name\"],\r\n  data() {\r\n    return {\r\n      oname: this.name,\r\n      imgsrc: `/static/uploads/${this.name}`\r\n    };\r\n  },\r\n  computed: {\r\n    staticLocate: function() {\r\n      return `${window.location.origin}/static/uploads/${this.name}`;\r\n    }\r\n  },\r\n  methods: {\r\n    Save() {\r\n      var form = new FormData(this.$el.querySelector(\".fileform\"));\r\n      axios\r\n        .request({\r\n          url: `/setting/alterimage/image/${this.name}`,\r\n          method: \"post\",\r\n          data: form\r\n        })\r\n        .then(res => {\r\n          if (res.data.state == true) {\r\n            this.$emit(\"rename\", this.oname);\r\n            //   bridge.$emit(\"list.update\");\r\n          }\r\n          modal.Common(res);\r\n        });\r\n    },\r\n    Delete() {\r\n      if (this.name == \"new.file\") {\r\n        this.$emit(\"goback\");\r\n        return;\r\n      }\r\n      axios.get(`/setting/deleteimage/image/${this.name}`).then(res => {\r\n        modal.Common(res);\r\n        if (res.data.state == true) {\r\n          // bridge.$emit(\"list.update\");\r\n          this.$emit(\"goback\");\r\n        }\r\n      });\r\n    },\r\n    File_input: function(e) {\r\n      var file = e.target.files[0];\r\n      if (file) {\r\n        var reader = new FileReader(file);\r\n        reader.onloadend = function() {\r\n          this.imgsrc = reader.result;\r\n        }.bind(this);\r\n        reader.readAsDataURL(file);\r\n      } else {\r\n        this.imgsrc = `/static/uploads/${this.name}`;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"ChangeHolding\", true);\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.commit(\"ChangeHolding\", false);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss'>\r\n#ImageEditor {\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Setting/ImageEditor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"slidepanel\",attrs:{\"id\":\"ImageEditor\"}},[_c('button',{staticClass:\"close\",on:{\"click\":function($event){_vm.$emit('goback')}}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),_c('div',{staticClass:\"imgcontainer\"},[_c('a',{style:('background-image:url('+_vm.imgsrc+');'),attrs:{\"href\":'/static/uploads/'+_vm.name,\"target\":\"#\"}})]),_vm._v(\" \"),_c('form',{staticClass:\"fileform\"},[_c('span',{staticClass:\"label label-default\"},[_vm._v(\"名称\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.oname),expression:\"oname\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"name\"},domProps:{\"value\":(_vm.oname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.oname=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"label label-default\"},[_vm._v(\"上传\")]),_vm._v(\" \"),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"file\",\"name\":\"imagefile\"},on:{\"change\":_vm.File_input}})]),_vm._v(\" \"),_c('div',{staticClass:\"alert alert-info\"},[_vm._v(\"图片链接:\\n    \"),_c('a',{staticClass:\"alert-link\",attrs:{\"target\":\"#\",\"href\":_vm.staticLocate}},[_vm._v(_vm._s(_vm.staticLocate))])]),_vm._v(\" \"),_c('div',{staticClass:\"flexdep\"},[_c('div',[_c('div',{staticClass:\"btn btn-info btn-block\",on:{\"click\":_vm.Save}},[_vm._v(\"保存\")])]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"btn btn-warning btn-block\",on:{\"click\":_vm.Delete}},[_vm._v(\"删除\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72f46090\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Setting/ImageEditor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72f46090\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImageEditor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageEditor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageEditor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72f46090\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageEditor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Setting/ImageEditor.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id='Image'>\r\n    <h2>图片设置</h2>\r\n    <ImageSelect ref=\"select\" @select=\"selectedindex = arguments[0]\" />\r\n    <div class=\"msbtn btn-info col-xs-12 col-sm-4 col-sm-offset-4\" @click=\"selectedindex='new.jpg'\">新建</div>\r\n    <div class=\"row\"></div>\r\n    <transition name=\"fadeRight\">\r\n      <ImageEditor v-if=\"selectedindex!=-1\" :name=\"selectedindex\" @goback=\"selectedindex = -1\" @rename=\"UpdateEvent\" />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImageSelect from \"./ImageSelect\";\r\nimport ImageEditor from \"./ImageEditor\";\r\nexport default {\r\n  name: \"\",\r\n  components: {\r\n    ImageSelect,\r\n    ImageEditor\r\n  },\r\n  data() {\r\n    return {\r\n      selectedindex: -1\r\n    };\r\n  },\r\n  methods: {\r\n    UpdateEvent(name) {\r\n      if (name) this.selectedindex = name;\r\n      this.$refs.select.Refresh();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='scss'>\r\n#Image {\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Setting/Image.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"Image\"}},[_c('h2',[_vm._v(\"图片设置\")]),_vm._v(\" \"),_c('ImageSelect',{ref:\"select\",on:{\"select\":function($event){_vm.selectedindex = arguments[0]}}}),_vm._v(\" \"),_c('div',{staticClass:\"msbtn btn-info col-xs-12 col-sm-4 col-sm-offset-4\",on:{\"click\":function($event){_vm.selectedindex='new.jpg'}}},[_vm._v(\"新建\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fadeRight\"}},[(_vm.selectedindex!=-1)?_c('ImageEditor',{attrs:{\"name\":_vm.selectedindex},on:{\"goback\":function($event){_vm.selectedindex = -1},\"rename\":_vm.UpdateEvent}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0366992c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Setting/Image.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0366992c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Image.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Image.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Image.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0366992c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Image.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Setting/Image.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}